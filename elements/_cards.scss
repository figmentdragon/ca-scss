
.card
{
    position: relative;

    display: flex;
    flex-direction: column;

    min-width: 0;
    min-height: 0;

    word-wrap: break-word;

    border: $card-border-width solid $card-border-color;
    border-radius: var(--border-radius-md);
    background-color: $card-bg;
    background-clip: border-box;
    box-shadow: $card-box-shadow;

    > hr
    {
        margin-right: 0;
        margin-left: 0;
    }

    > .list-group
    {
        border-top: inherit;
        border-bottom: inherit;

        &:first-child
        {
            border-top-width: 0;
            border-top-left-radius: $card-inner-border-radius;
            border-top-right-radius: $card-inner-border-radius;
        }

        &:last-child
        {
            border-bottom-width: 0;
            border-bottom-right-radius: $card-inner-border-radius;
            border-bottom-left-radius: $card-inner-border-radius;
        }
    }

    // Due to specificity of the above selector (`.card > .list-group`), we must
    // use a child selector here to prevent double borders.
    > .card-header + .list-group,
    > .list-group + .card-footer
    {
        border-top: 0;
    }
}

.card-body
{
    // Enable `flex-grow: 1` for decks and groups so that card blocks take up
    // as much space as possible, ensuring footers are aligned to the bottom.
    flex: 1 1 auto;

    padding: $card-spacer-y $card-spacer-x;

    color: $card-color;
}

.card-title
{
    font-family: $post-font;

    margin-bottom: $spacer;
    padding-left: 12.50%;

    text-align: left;
}

.card-subtitle
{
    margin-top: $card-title-spacer-y * .5;
    margin-bottom: 0;
}

.card-text:last-child
{
    margin-bottom: 0;
}

.card-link
{
    &:hover
    {
        text-decoration: $link-hover-decoration;
    }

    + .card-link
    {
        margin-left: $card-spacer-x;
    }
}

//
// Optional textual caps
//

.card-header
{
    z-index: $zindex-card-header;

    height: $col5;
    max-height: $col5;
    margin-bottom: 0; // Removes the default margin-bottom of <hN>
    padding: $padding-lg $padding-md;

    color: $nav;
    border-style: solid;
    border-color: $border;
    border-bottom: $border-width;
    border-radius: $border-radius-sm;
    background-color: $nav-bg;

    &:first-child
    {
        border-radius: $card-inner-border-radius $card-inner-border-radius 0 0;
    }
}

.card-footer
{
    padding: $card-cap-padding-y $card-cap-padding-x;

    color: $card-cap-color;
    border-top: $card-border-width solid $card-border-color;
    background-color: $card-cap-bg;

    &:last-child
    {
        border-radius: 0 0 $card-inner-border-radius $card-inner-border-radius;
    }
}


//
// Header navs
//

.card-header-tabs
{
    font-family: $btn-font;

    margin-right: calc($md * .5);
    margin-bottom: $md;
    margin-left: calc($md * .5);

    border-width: $border-width;
    border-color: $border;
    border-bottom: 0;
    border-radius: $border-radius-sm;

    @if $nav-tabs-link-active-bg != $card-bg
    {
        .nav-link.active
        {
            border-bottom-color: $active;
            background-color: $active-bg;
        }
    }
}

.card-header-pills
{
    margin-right: -$card-cap-padding-x * .5;
    margin-left: -$card-cap-padding-x * .5;
}

// Card image
.card-img-overlay
{
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;

    padding: $card-img-overlay-padding;

    border-width: $border-width-xs;
    border-style: solid;
    border-color: $active;
    border-radius: $border-radius-lg;
}

.card-img,
.card-img-top,
.card-img-bottom
{
    width: 100%; // Required because we use flexbox and this inherently applies align-self: stretch
}

.card-img,
.card-img-top
{
    border-top-left-radius: $card-inner-border-radius;
    border-top-right-radius: $card-inner-border-radius;
}

.card-img,
.card-img-bottom
{
    border-bottom-right-radius: $card-inner-border-radius;
    border-bottom-left-radius: $card-inner-border-radius;
}


//
// Card groups
//

.card-group
{
    // The child selector allows nested `.card` within `.card-group`
    // to display properly.
    > .card
    {
        margin-bottom: $card-group-margin;
    }
}
